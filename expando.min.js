!function(){var a,b,c,d,e,f,g,h;if(d=!1,a=[],c=[],f=function(){var a;return a=JSON.stringify(b.cache),localStorage.expandocache!==a?localStorage.expandocache=a:void 0},b=function(e){var g,i,j;if(void 0===(g=b.cache[e])&&(b.cache[e]=g=new h(e).generateNodes(),d&&setTimeout(f,0)),0<c.length)for(i=0,j=c.length;j>i;i++)e=c[i],g=e(g);if(0<a.length)for(i=0,j=a.length;j>i;i++)e=a[i],e(g);return g},b.cache=[],b.addFilter=function(a){return c.push(a)},b.addCallback=function(b){return a.push(b)},"undefined"!=typeof window){window.expando=b;try{d="localStorage"in window&&null!==window.localStorage}catch(i){}if(d)try{b.cache=JSON.parse(localStorage.expandocache)}catch(j){b.cache=[]}}"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=b),e=function(){function a(){this.classList=[],this.tag=this.attributes=this.id="",this.count=1,this.children=[]}var b;return b=function(a,b){var c;for(c="";b>0;)1===b%2&&(c+=a),a+=a,b>>=1;return c},a.prototype.expand=function(){var a,c,d,e,f,g,h,i,j;if("undefined"!=typeof this.literal)return this.literal;if(a=this.tag,c=this.id,d=this.attributes,e=this.count,f=this.children,j=a,g=this.classList.join(" "),""===g&&""===j&&""===c&&""===d&&0===f.length&&1===e)return"";if(""===j&&(j="div"),a=-1===" area base br col command embed hr img input keygen link meta param source track wbr ".indexOf(" "+j+" "),h=0<g.length,i="<"+j,h&&(i+=' class="'+g+'"'),""!==c&&(i+=' id="'+c+'"'),0<d.length&&(i+=" "+d),i+=">",0<f.length)for(d=0,g=f.length;g>d;d++)c=f[d],i+=c.expand();return a&&(i+="</"+j+">"),e>1&&(i=b(i,e)),i},a}(),g=function(){function a(a){this.expansion=a,this.length=a.length,this.location=0}var b,c,d,e;return c=function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||a>="0"&&"9">=a},b=function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a},d=function(a){return"."===a||"#"===a||"{"===a||"}"===a||"+"===a||"["===a},e=function(a){return a>="0"&&"9">=a},a.prototype.readToken=function(){var a,c,e,f,g;if(a=this.location,c=this.length,e=this.expansion,a>c-1)return{type:"EOT"};if(g=e.charAt(a),"{"===g||"}"===g||"+"===g||"["===g)return"{"===g&&"="===e.charAt(a+1)?(this.location+=2,this.escapedReadUntil("}","LITERAL")):"["===g?(this.location++,this.escapedReadUntil("]","ATTRIBUTES")):(this.location++,{token:g,type:"COMBINATOR"});if(b(g))return this.alphaNumericRead("TAG");if("."===g)return this.location++,this.alphaNumericRead("CLASS");if("#"===g)return this.location++,this.alphaNumericRead("ID");if("*"===g)return this.location++,this.numericRead("COUNT");for(f=g;!(b(g)||d(g)||a>c);)f+=g=e.charAt(++a);return this.location=a,this.readToken()},a.prototype.escapedReadUntil=function(a,b){var c,d,e,f,g;for(e=this.location,d=this.length,c=this.expansion,f="";(g=c.charAt(e))!==a&&d>e;)f+=g,e++;return this.location=++e,{token:f,type:b}},a.prototype.alphaNumericRead=function(a){var b,e,f,g;if(e=this.location,b=this.expansion,f=b.charAt(e),d(f))return{token:"",type:a};for(;c(g=b.charAt(++e));)f+=g;return this.location=e,{token:f,type:a}},a.prototype.numericRead=function(a){var b,c,f,g;if(c=this.location,b=this.expansion,f=b.charAt(c),d(f))return{token:"",type:a};for(;e(g=b.charAt(++c));)f+=g;return this.location=c,{token:f,type:a}},a}(),h=function(){function a(a){var b,c;for(a=new g(a),b=[],this.index=0;(c=a.readToken())&&(b.push(c),"EOT"!==c.type););this.tokens=b,this.length=b.length}var b;return b=Array.prototype.push,a.prototype.generateNodes=function(a){var c,d,f,g,h,i,j,k,l;if(this.expansion)return this.expansion;for(c=this.length,d=this.tokens,i=0,j=[],j.push(new e),k=j[0],g=void 0===a?this.index:a;c>g;){if(l=d[g],"EOT"===l.type)return void 0===a?function(){var a,b,c;for(c=[],a=0,b=j.length;b>a;a++)h=j[a],c.push(h.expand());return c}().join(""):(this.index=g-1,j);if("}"===l.token&&void 0!==a)return this.index=g,j;void 0===j[i]&&(k=j[i]=new e),"+"===l.token&&i++,"{"===l.token&&(b.apply(k.children,this.generateNodes(++g)),g=this.index,i++),"CLASS"===l.type&&k.classList.push(l.token),"ID"===l.type&&""===k.id&&(k.id=l.token),"TAG"===l.type&&""===k.tag&&(k.tag=l.token),"ATTRIBUTES"===l.type&&(k.attributes+=l.token),"COUNT"===l.type&&1===k.count&&(k.count=parseInt(l.token)),"LITERAL"===l.type&&(f=new e,f.literal=l.token,k.children.push(f),i++),g++}return void 0===a?function(){var a,b,c;for(c=[],a=0,b=j.length;b>a;a++)h=j[a],c.push(h.expand());return c}().join(""):j},a}()}.call(this);
